import{r as o,u as A,j as e,a as Oe,R as be}from"./index-D0HuFFmH.js";import{C as Ee,T as re,L as ve}from"./Layout-CJyqDte0.js";import{h as ie,i as G,j as Le,s as ze,k as ne,l as Ce,m as st,Z as le,n as oe,u as De,o as rt,p as it,q as te,r as Te,t as ce,v as $e,w as Re,x as Me,y as nt,z as lt,E as ot,G as ge,H as ct,J as Ke,K as Be,M as dt,S as ut,N as xt,O as Fe,Q as mt,U as pt,V as ht,W as ft,_ as bt,$ as vt,a0 as We,a1 as ye,a2 as gt,a3 as yt,a4 as K,a5 as jt,a6 as Nt,a7 as wt,a8 as kt,a9 as Pt,aa as At,ab as je,A as B,B as C,C as D,ac as N,R as H,P as St,e as It,f as Ne,c as X,L as Z,b as we,X as ke,Y as Pe,a as _t,d as Ot,T as de,ad as Et,ae as Lt,F as zt,D as Ct}from"./PieChart-Cwj0eDqy.js";import{A as T}from"./arrow-left-CC7U_jlB.js";import{A as $}from"./arrow-right-CpKYfjmU.js";import{c as _}from"./Logo-DyFyGIXM.js";/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Tt=_("award",Dt);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],U=_("brain-circuit",$t);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],Mt=_("chart-line",Rt);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Ue=_("info",Kt);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],V=_("lightbulb",Bt);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],ue=_("message-square",Ft);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Ut=_("rotate-ccw",Wt);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ae=_("triangle-alert",qt);function se(){return se=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var r in s)({}).hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t},se.apply(null,arguments)}var qe=t=>{var{cx:a,cy:s,r,className:i}=t,n=ie("recharts-dot",i);return G(a)&&G(s)&&G(r)?o.createElement("circle",se({},ze(t),Le(t),{className:n,cx:a,cy:s,r})):null},Vt=["points"];function Ae(t,a){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);a&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),s.push.apply(s,r)}return s}function Q(t){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?Ae(Object(s),!0).forEach(function(r){Jt(t,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Ae(Object(s)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(s,r))})}return t}function Jt(t,a,s){return(a=Yt(a))in t?Object.defineProperty(t,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[a]=s,t}function Yt(t){var a=Gt(t,"string");return typeof a=="symbol"?a:a+""}function Gt(t,a){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var r=s.call(t,a);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function q(){return q=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var r in s)({}).hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t},q.apply(null,arguments)}function Ht(t,a){if(t==null)return{};var s,r,i=Xt(t,a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);for(r=0;r<n.length;r++)s=n[r],a.indexOf(s)===-1&&{}.propertyIsEnumerable.call(t,s)&&(i[s]=t[s])}return i}function Xt(t,a){if(t==null)return{};var s={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(a.indexOf(r)!==-1)continue;s[r]=t[r]}return s}function Zt(t){var{option:a,dotProps:s,className:r}=t;if(o.isValidElement(a))return o.cloneElement(a,s);if(typeof a=="function")return a(s);var i=ie(r,typeof a!="boolean"?a.className:""),n=s??{},{points:l}=n,d=Ht(n,Vt);return o.createElement(qe,q({},d,{className:i}))}function Qt(t,a){return t==null?!1:a?!0:t.length===1}function ea(t){var{points:a,dot:s,className:r,dotClassName:i,dataKey:n,baseProps:l,needClip:d,clipPathId:c,zIndex:x=ne.scatter}=t;if(!Qt(a,s))return null;var m=Ce(s),p=st(s),u=a.map((b,v)=>{var g,f,j=Q(Q(Q({r:3},l),p),{},{index:v,cx:(g=b.x)!==null&&g!==void 0?g:void 0,cy:(f=b.y)!==null&&f!==void 0?f:void 0,dataKey:n,value:b.value,payload:b.payload,points:a});return o.createElement(Zt,{key:"dot-".concat(v),option:s,dotProps:j,className:i})}),h={};return d&&c!=null&&(h.clipPath="url(#clipPath-".concat(m?"":"dots-").concat(c,")")),o.createElement(le,{zIndex:x},o.createElement(oe,q({className:r},h),u))}function Se(t,a){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);a&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),s.push.apply(s,r)}return s}function ee(t){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?Se(Object(s),!0).forEach(function(r){ta(t,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Se(Object(s)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(s,r))})}return t}function ta(t,a,s){return(a=aa(a))in t?Object.defineProperty(t,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[a]=s,t}function aa(t){var a=sa(t,"string");return typeof a=="symbol"?a:a+""}function sa(t,a){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var r=s.call(t,a);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}var ra=t=>{var{point:a,childIndex:s,mainColor:r,activeDot:i,dataKey:n,clipPath:l}=t;if(i===!1||a.x==null||a.y==null)return null;var d={index:s,dataKey:n,cx:a.x,cy:a.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:a.payload,value:a.value},c=ee(ee(ee({},d),Te(i)),Le(i)),x;return o.isValidElement(i)?x=o.cloneElement(i,c):typeof i=="function"?x=i(c):x=o.createElement(qe,c),o.createElement(oe,{className:"recharts-active-dot",clipPath:l},x)};function ia(t){var{points:a,mainColor:s,activeDot:r,itemDataKey:i,clipPath:n,zIndex:l=ne.activeDot}=t,d=De(rt),c=it();if(a==null||c==null)return null;var x=a.find(m=>c.includes(m.payload));return te(x)?null:o.createElement(le,{zIndex:l},o.createElement(ra,{point:x,childIndex:Number(d),mainColor:s,dataKey:i,activeDot:r,clipPath:n}))}var Ve=(t,a,s,r)=>Re(t,"xAxis",a,r),Je=(t,a,s,r)=>Me(t,"xAxis",a,r),Ye=(t,a,s,r)=>Re(t,"yAxis",s,r),Ge=(t,a,s,r)=>Me(t,"yAxis",s,r),na=ce([$e,Ve,Ye,Je,Ge],(t,a,s,r,i)=>ot(t,"xAxis")?ge(a,r,!1):ge(s,i,!1)),la=(t,a,s,r,i)=>i;function oa(t){return t.type==="line"}var ca=ce([lt,la],(t,a)=>t.filter(oa).find(s=>s.id===a)),da=ce([$e,Ve,Ye,Je,Ge,ca,na,nt],(t,a,s,r,i,n,l,d)=>{var{chartData:c,dataStartIndex:x,dataEndIndex:m}=d;if(!(n==null||a==null||s==null||r==null||i==null||r.length===0||i.length===0||l==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:p,data:u}=n,h;if(u!=null&&u.length>0?h=u:h=c==null?void 0:c.slice(x,m+1),h!=null)return Ea({layout:t,xAxis:a,yAxis:s,xAxisTicks:r,yAxisTicks:i,dataKey:p,bandSize:l,displayedData:h})}});function ua(t){var a=Te(t),s=3,r=2;if(a!=null){var{r:i,strokeWidth:n}=a,l=Number(i),d=Number(n);return(Number.isNaN(l)||l<0)&&(l=s),(Number.isNaN(d)||d<0)&&(d=r),{r:l,strokeWidth:d}}return{r:s,strokeWidth:r}}var xa=["id"],ma=["type","layout","connectNulls","needClip","shape"],pa=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function F(){return F=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var r in s)({}).hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t},F.apply(null,arguments)}function Ie(t,a){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);a&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),s.push.apply(s,r)}return s}function S(t){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?Ie(Object(s),!0).forEach(function(r){ha(t,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Ie(Object(s)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(s,r))})}return t}function ha(t,a,s){return(a=fa(a))in t?Object.defineProperty(t,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[a]=s,t}function fa(t){var a=ba(t,"string");return typeof a=="symbol"?a:a+""}function ba(t,a){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var r=s.call(t,a);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function xe(t,a){if(t==null)return{};var s,r,i=va(t,a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);for(r=0;r<n.length;r++)s=n[r],a.indexOf(s)===-1&&{}.propertyIsEnumerable.call(t,s)&&(i[s]=t[s])}return i}function va(t,a){if(t==null)return{};var s={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(a.indexOf(r)!==-1)continue;s[r]=t[r]}return s}var ga=t=>{var{dataKey:a,name:s,stroke:r,legendType:i,hide:n}=t;return[{inactive:n,dataKey:a,type:i,color:r,value:Fe(s,a),payload:t}]},ya=o.memo(t=>{var{dataKey:a,data:s,stroke:r,strokeWidth:i,fill:n,name:l,hide:d,unit:c,tooltipType:x}=t,m={dataDefinedOnItem:s,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:n,dataKey:a,nameKey:void 0,name:Fe(l,a),hide:d,type:x,color:r,unit:c}};return o.createElement(mt,{tooltipEntrySettings:m})}),He=(t,a)=>"".concat(a,"px ").concat(t-a,"px");function ja(t,a){for(var s=t.length%2!==0?[...t,0]:t,r=[],i=0;i<a;++i)r=[...r,...s];return r}var Na=(t,a,s)=>{var r=s.reduce((p,u)=>p+u);if(!r)return He(a,t);for(var i=Math.floor(t/r),n=t%r,l=a-t,d=[],c=0,x=0;c<s.length;x+=s[c],++c)if(x+s[c]>n){d=[...s.slice(0,c),n-x];break}var m=d.length%2===0?[0,l]:[l];return[...ja(s,i),...d,...m].map(p=>"".concat(p,"px")).join(", ")};function wa(t){var{clipPathId:a,points:s,props:r}=t,{dot:i,dataKey:n,needClip:l}=r,{id:d}=r,c=xe(r,xa),x=ze(c);return o.createElement(ea,{points:s,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:n,baseProps:x,needClip:l,clipPathId:a})}function ka(t){var{showLabels:a,children:s,points:r}=t,i=o.useMemo(()=>r==null?void 0:r.map(n=>{var l,d,c={x:(l=n.x)!==null&&l!==void 0?l:0,y:(d=n.y)!==null&&d!==void 0?d:0,width:0,lowerWidth:0,upperWidth:0,height:0};return S(S({},c),{},{value:n.value,payload:n.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[r]);return o.createElement(Nt,{value:a?i:void 0},s)}function _e(t){var{clipPathId:a,pathRef:s,points:r,strokeDasharray:i,props:n}=t,{type:l,layout:d,connectNulls:c,needClip:x,shape:m}=n,p=xe(n,ma),u=S(S({},wt(p)),{},{fill:"none",className:"recharts-line-curve",clipPath:x?"url(#clipPath-".concat(a,")"):void 0,points:r,type:l,layout:d,connectNulls:c,strokeDasharray:i??n.strokeDasharray});return o.createElement(o.Fragment,null,(r==null?void 0:r.length)>1&&o.createElement(kt,F({shapeType:"curve",option:m},u,{pathRef:s})),o.createElement(wa,{points:r,clipPathId:a,props:n}))}function Pa(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function Aa(t){var{clipPathId:a,props:s,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:n}=t,{points:l,strokeDasharray:d,isAnimationActive:c,animationBegin:x,animationDuration:m,animationEasing:p,animateNewValues:u,width:h,height:b,onAnimationEnd:v,onAnimationStart:g}=s,f=i.current,j=gt(l,"recharts-line-"),y=o.useRef(j),[w,I]=o.useState(!1),O=!w,E=o.useCallback(()=>{typeof v=="function"&&v(),I(!1)},[v]),k=o.useCallback(()=>{typeof g=="function"&&g(),I(!0)},[g]),L=Pa(r.current),W=o.useRef(0);y.current!==j&&(W.current=n.current,y.current=j);var me=W.current;return o.createElement(ka,{points:l,showLabels:O},s.children,o.createElement(yt,{animationId:j,begin:x,duration:m,isActive:c,easing:p,onAnimationEnd:E,onAnimationStart:k,key:j},z=>{var Qe=K(me,L+me,z),Y=Math.min(Qe,L),M;if(c)if(d){var et="".concat(d).split(/[,\s]+/gim).map(P=>parseFloat(P));M=Na(Y,L,et)}else M=He(L,Y);else M=d==null?void 0:String(d);if(z>0&&L>0&&(i.current=l,n.current=Math.max(n.current,Y)),f){var tt=f.length/l.length,pe=z===1?l:l.map((P,at)=>{var he=Math.floor(at*tt);if(f[he]){var fe=f[he];return S(S({},P),{},{x:K(fe.x,P.x,z),y:K(fe.y,P.y,z)})}return u?S(S({},P),{},{x:K(h*2,P.x,z),y:K(b/2,P.y,z)}):S(S({},P),{},{x:P.x,y:P.y})});return i.current=pe,o.createElement(_e,{props:s,points:pe,clipPathId:a,pathRef:r,strokeDasharray:M})}return o.createElement(_e,{props:s,points:l,clipPathId:a,pathRef:r,strokeDasharray:M})}),o.createElement(jt,{label:s.label}))}function Sa(t){var{clipPathId:a,props:s}=t,r=o.useRef(null),i=o.useRef(0),n=o.useRef(null);return o.createElement(Aa,{props:s,clipPathId:a,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:n})}var Ia=(t,a)=>{var s,r;return{x:(s=t.x)!==null&&s!==void 0?s:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:We(t.payload,a)}};class _a extends o.Component{render(){var{hide:a,dot:s,points:r,className:i,xAxisId:n,yAxisId:l,top:d,left:c,width:x,height:m,id:p,needClip:u,zIndex:h}=this.props;if(a)return null;var b=ie("recharts-line",i),v=p,{r:g,strokeWidth:f}=ua(s),j=Ce(s),y=g*2+f,w=u?"url(#clipPath-".concat(j?"":"dots-").concat(v,")"):void 0;return o.createElement(le,{zIndex:h},o.createElement(oe,{className:b},u&&o.createElement("defs",null,o.createElement(bt,{clipPathId:v,xAxisId:n,yAxisId:l}),!j&&o.createElement("clipPath",{id:"clipPath-dots-".concat(v)},o.createElement("rect",{x:c-y/2,y:d-y/2,width:x+y,height:m+y}))),o.createElement(vt,{xAxisId:n,yAxisId:l,data:r,dataPointFormatter:Ia,errorBarOffset:0},o.createElement(Sa,{props:this.props,clipPathId:v}))),o.createElement(ia,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:w}))}}var Xe={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:ne.line,type:"linear"};function Oa(t){var a=Ke(t,Xe),{activeDot:s,animateNewValues:r,animationBegin:i,animationDuration:n,animationEasing:l,connectNulls:d,dot:c,hide:x,isAnimationActive:m,label:p,legendType:u,xAxisId:h,yAxisId:b,id:v}=a,g=xe(a,pa),{needClip:f}=pt(h,b),j=ht(),y=ft(),w=Be(),I=De(W=>da(W,h,b,w,v));if(y!=="horizontal"&&y!=="vertical"||I==null||j==null)return null;var{height:O,width:E,x:k,y:L}=j;return o.createElement(_a,F({},g,{id:v,connectNulls:d,dot:c,activeDot:s,animateNewValues:r,animationBegin:i,animationDuration:n,animationEasing:l,isAnimationActive:m,hide:x,label:p,legendType:u,xAxisId:h,yAxisId:b,points:I,layout:y,height:O,width:E,left:k,top:L,needClip:f}))}function Ea(t){var{layout:a,xAxis:s,yAxis:r,xAxisTicks:i,yAxisTicks:n,dataKey:l,bandSize:d,displayedData:c}=t;return c.map((x,m)=>{var p=We(x,l);if(a==="horizontal"){var u=ye({axis:s,ticks:i,bandSize:d,entry:x,index:m}),h=te(p)?null:r.scale(p);return{x:u,y:h,value:p,payload:x}}var b=te(p)?null:s.scale(p),v=ye({axis:r,ticks:n,bandSize:d,entry:x,index:m});return b==null||v==null?null:{x:b,y:v,value:p,payload:x}}).filter(Boolean)}function La(t){var a=Ke(t,Xe),s=Be();return o.createElement(dt,{id:a.id,type:"line"},r=>o.createElement(o.Fragment,null,o.createElement(ut,{legendPayload:ga(a)}),o.createElement(ya,{dataKey:a.dataKey,data:a.data,stroke:a.stroke,strokeWidth:a.strokeWidth,fill:a.fill,name:a.name,hide:a.hide,unit:a.unit,tooltipType:a.tooltipType}),o.createElement(xt,{type:"line",id:r,data:a.data,xAxisId:a.xAxisId,yAxisId:a.yAxisId,zAxisId:0,dataKey:a.dataKey,hide:a.hide,isPanorama:s}),o.createElement(Oa,F({},a,{id:r}))))}var Ze=o.memo(La,ct);Ze.displayName="Line";var za=["axis"],Ca=o.forwardRef((t,a)=>o.createElement(Pt,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:za,tooltipPayloadSearcher:At,categoricalChartProps:t,ref:a}));const Da=({onNext:t})=>{const{activeScenario:a,t:s,language:r}=A(),i=r==="he";return a?e.jsxs("div",{className:"max-w-5xl mx-auto animate-fade-in pb-10",children:[e.jsx("div",{className:"bg-white rounded-3xl shadow-xl shadow-surface-200/50 overflow-hidden border border-surface-100 mb-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-stretch",children:[e.jsxs("div",{className:"w-full md:w-2/5 relative min-h-[300px] md:min-h-full",children:[e.jsx("img",{src:a.opening.imageUrl||"./placeholder.svg",alt:"Scenario",className:"absolute inset-0 w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent md:bg-gradient-to-r md:from-transparent md:to-black/5"})]}),e.jsxs("div",{className:"w-full md:w-3/5 p-8 md:p-12 flex flex-col justify-center bg-white",children:[e.jsxs("div",{className:"flex flex-wrap gap-3 mb-6",children:[e.jsxs(je,{color:"blue",children:[e.jsx(B,{size:12,className:"mr-1.5"})," ",a.category]}),e.jsxs(je,{color:"gray",children:[e.jsx(Ee,{size:12,className:"mr-1.5"})," ",a.duration]})]}),e.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-surface-900 mb-4 leading-tight tracking-tight",children:a.title}),e.jsx("p",{className:"text-lg text-surface-600 leading-relaxed mb-8",children:a.opening.description}),e.jsx(C,{onClick:t,size:"lg",rightIcon:i?e.jsx(T,{size:18}):e.jsx($,{size:18}),className:"w-fit shadow-lg shadow-surface-200 hover:shadow-primary-200 hover:-translate-y-0.5",children:s("start_simulation")})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-surface-100 shadow-sm h-full",children:[e.jsxs("h4",{className:"font-bold text-surface-900 flex items-center gap-2 mb-4 text-sm uppercase tracking-wider",children:[e.jsx(Mt,{size:16,className:"text-primary-600"})," ",s("learning_goals")]}),e.jsxs("ul",{className:"space-y-3",children:[e.jsxs("li",{className:"flex gap-3 items-start",children:[e.jsx("div",{className:"mt-0.5 text-secondary-500 shrink-0",children:e.jsx(D,{size:16})}),e.jsx("span",{className:"text-sm text-surface-600 font-medium",children:s("data_analysis")})]}),e.jsxs("li",{className:"flex gap-3 items-start",children:[e.jsx("div",{className:"mt-0.5 text-secondary-500 shrink-0",children:e.jsx(D,{size:16})}),e.jsx("span",{className:"text-sm text-surface-600 font-medium",children:s("critical_analysis")})]}),e.jsxs("li",{className:"flex gap-3 items-start",children:[e.jsx("div",{className:"mt-0.5 text-secondary-500 shrink-0",children:e.jsx(D,{size:16})}),e.jsx("span",{className:"text-sm text-surface-600 font-medium",children:s("decide")})]})]})]}),e.jsxs("div",{className:"md:col-span-2 bg-white rounded-2xl p-6 border border-surface-100 shadow-sm h-full flex flex-col justify-center",children:[e.jsxs("h4",{className:"font-bold text-surface-900 flex items-center gap-2 mb-5 text-sm uppercase tracking-wider",children:[e.jsx(U,{size:16,className:"text-primary-600"})," ",s("simulation_process")]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-surface-50 w-full sm:w-auto flex-1 border border-surface-100",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-white text-primary-600 flex items-center justify-center shrink-0 shadow-sm border border-surface-100",children:e.jsx(B,{size:18})}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-bold text-surface-900 text-sm",children:s("analyze")}),e.jsx("p",{className:"text-xs text-surface-500",children:s("identify_trends")})]})]}),e.jsx("div",{className:"hidden sm:flex text-surface-300",children:i?e.jsx(T,{size:20}):e.jsx($,{size:20})}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-surface-50 w-full sm:w-auto flex-1 border border-surface-100",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-white text-secondary-600 flex items-center justify-center shrink-0 shadow-sm border border-surface-100",children:e.jsx(V,{size:18})}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-bold text-surface-900 text-sm",children:s("decide")}),e.jsx("p",{className:"text-xs text-surface-500",children:s("evidence_based")})]})]}),e.jsx("div",{className:"hidden sm:flex text-surface-300",children:i?e.jsx(T,{size:20}):e.jsx($,{size:20})}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-surface-50 w-full sm:w-auto flex-1 border border-surface-100",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-white text-accent-600 flex items-center justify-center shrink-0 shadow-sm border border-surface-100",children:e.jsx(ue,{size:18})}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-bold text-surface-900 text-sm",children:s("reflection")}),e.jsx("p",{className:"text-xs text-surface-500",children:s("improvement")})]})]})]})]})]})]}):null},R=({title:t,step:a,subtitle:s,helpText:r})=>{const{t:i}=A();return e.jsxs("div",{className:"flex flex-col gap-2 mb-8 animate-fade-in-up",children:[e.jsxs("div",{className:"flex items-center gap-3 text-primary-600 font-bold tracking-wider text-xs uppercase rtl:flex-row-reverse",children:[e.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-primary-100 text-primary-700",children:a}),e.jsxs("span",{children:[i("step")," ",a," ",i("of")," 6"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h2",{className:"text-3xl font-extrabold text-surface-900 tracking-tight",children:t}),r&&e.jsx(re,{content:r})]}),s&&e.jsx("p",{className:"text-surface-500 max-w-2xl",children:s})]})},J=({onNext:t,onPrev:a,disabled:s=!1,nextLabel:r})=>{const{t:i,language:n}=A(),l=n==="he";return e.jsxs("div",{className:"flex justify-between items-center pt-8 border-t border-surface-100 mt-10",children:[e.jsx(C,{variant:"ghost",onClick:a,icon:l?$:T,iconPosition:"left",children:i("back")}),e.jsx(C,{variant:"primary",onClick:t,disabled:s,icon:l?T:$,iconPosition:"right",className:"px-8 py-3 text-base",children:r||i("continue")})]})},Ta=({onNext:t,onPrev:a})=>{const{activeScenario:s,t:r}=A();return s?e.jsxs("div",{className:"max-w-6xl mx-auto animate-fade-in",children:[e.jsx(R,{title:r("mission_brief"),step:1,helpText:r("understand_problem")}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-start",children:[e.jsxs("div",{className:"space-y-8",children:[e.jsxs(N,{className:"shadow-xl shadow-surface-200/50 relative overflow-hidden group border-l-8 border-l-blue-500",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-2xl font-extrabold text-surface-900",children:r("core_problem")}),e.jsx(re,{content:r("ai_hint")||"Read the problem statement carefully.",children:e.jsx(Ue,{size:20,className:"text-surface-400 hover:text-primary-500 transition-colors cursor-help"})})]}),e.jsx("p",{className:"text-lg text-surface-600 leading-relaxed",children:s.problem.text})]}),e.jsx(N,{className:"!bg-purple-50 !border-purple-100 shadow-sm",children:e.jsxs("div",{className:"flex gap-5 items-start",children:[e.jsx("div",{className:"bg-white p-3 rounded-2xl text-purple-500 shrink-0 shadow-sm border border-purple-100",children:e.jsx(V,{size:28})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-purple-900 mb-2 text-lg",children:r("contextual_info")}),e.jsx("p",{className:"text-purple-800/80 leading-relaxed",children:s.problem.context})]})]})})]}),e.jsxs("div",{className:"relative h-[400px] rounded-3xl overflow-hidden shadow-2xl border-8 border-white ring-1 ring-surface-900/5 rotate-1 hover:rotate-0 transition-all duration-500",children:[e.jsx("img",{src:s.problem.imageUrl||"./placeholder.svg",className:"absolute inset-0 w-full h-full object-cover",alt:"Problem Context"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent"})]})]}),e.jsx(J,{onNext:t,onPrev:a})]}):null},$a=({onNext:t,onPrev:a})=>{const{activeScenario:s,t:r,language:i}=A();if(!s)return null;const n=()=>{const l=s.data.chartType,d=s.data.chartData,c=["#8b5cf6","#14b8a6","#f43f5e","#f59e0b"];return l==="pie"?e.jsx(H,{width:"100%",height:"100%",children:e.jsxs(St,{children:[e.jsx(It,{data:d,cx:"50%",cy:"50%",labelLine:!1,outerRadius:120,fill:"#8884d8",dataKey:"value",label:({name:x,percent:m})=>`${x} ${(m*100).toFixed(0)}%`,children:d.map((x,m)=>e.jsx(Ne,{fill:c[m%c.length]},`cell-${m}`))}),e.jsx(X,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)"}}),e.jsx(Z,{})]})}):l==="line"?e.jsx(H,{width:"100%",height:"100%",children:e.jsxs(Ca,{data:d,margin:{top:20,right:30,left:20,bottom:5},children:[e.jsx(we,{strokeDasharray:"3 3",vertical:!1,stroke:"#f4f4f5"}),e.jsx(ke,{dataKey:"name",axisLine:!1,tickLine:!1,dy:10,tick:{fill:"#71717a"}}),e.jsx(Pe,{axisLine:!1,tickLine:!1,tick:{fill:"#71717a"}}),e.jsx(X,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)"}}),e.jsx(Z,{}),e.jsx(Ze,{type:"monotone",dataKey:"value",stroke:"#8b5cf6",strokeWidth:4,dot:{r:6,fill:"#fff",strokeWidth:3},activeDot:{r:8}})]})}):e.jsx(H,{width:"100%",height:"100%",children:e.jsxs(_t,{data:d,margin:{top:20,right:30,left:20,bottom:5},children:[e.jsx(we,{strokeDasharray:"3 3",stroke:"#f4f4f5",vertical:!1}),e.jsx(ke,{dataKey:"name",tick:{fill:"#71717a",fontSize:12},axisLine:!1,tickLine:!1,dy:10}),e.jsx(Pe,{tick:{fill:"#71717a",fontSize:12},axisLine:!1,tickLine:!1}),e.jsx(X,{cursor:{fill:"#f4f4f5"},contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)"}}),e.jsx(Z,{wrapperStyle:{paddingTop:"20px"}}),e.jsx(Ot,{dataKey:"value",fill:"#8b5cf6",radius:[8,8,0,0],maxBarSize:60,children:d.map((x,m)=>e.jsx(Ne,{fill:c[m%c.length]},`cell-${m}`))})]})})};return e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsx(R,{title:r("data_analysis"),step:2,helpText:r("analyze_data_help")}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs(N,{className:"lg:col-span-2 p-8 shadow-xl shadow-surface-200/50",children:[e.jsx("div",{className:"flex justify-between items-center mb-8",children:e.jsxs("h3",{className:"text-xl font-bold text-surface-900 flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-primary-100 rounded-lg text-primary-600",children:e.jsx(B,{size:20})}),s.data.description]})}),e.jsx("div",{className:"h-[400px] w-full",children:n()})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(N,{className:"!bg-surface-900 text-white shadow-xl",children:[e.jsxs("h4",{className:"font-bold text-lg mb-6 flex items-center gap-2",children:[e.jsx(V,{size:20,className:"text-secondary-400"}),r("key_facts")]}),e.jsx("ul",{className:"space-y-4",children:s.data.facts?s.data.facts.map((l,d)=>e.jsxs("li",{className:"flex gap-3 text-sm leading-relaxed text-surface-300",children:[e.jsx("span",{className:"text-primary-400 font-bold mt-0.5",children:"â€¢"}),l]},d)):e.jsx("li",{className:"text-surface-400 italic text-sm",children:r("no_facts")})})]}),e.jsxs(N,{className:"shadow-lg",children:[e.jsx("h4",{className:"font-bold text-surface-900 mb-3 text-sm uppercase tracking-wider",children:r("analysis_tip")}),e.jsx("p",{className:"text-sm text-surface-500 leading-relaxed",children:r("analysis_tip_content")})]})]})]}),e.jsx(J,{onNext:t,onPrev:a})]})},Ra=({onNext:t,onPrev:a})=>{const{activeScenario:s,activeSession:r,updateSessionResponse:i,t:n}=A(),[l,d]=o.useState((r==null?void 0:r.responses.analysisFeedback)||null),[c,x]=o.useState(!1);if(!s||!r)return null;const m=async(p,u)=>{const h=r.responses.analysis[p];if(h&&h.length>10&&!l){x(!0);const b=await Et(u,h,s.analysis.keyTerms);d(b),i("analysisFeedback",b),x(!1)}};return e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx(R,{title:n("critical_analysis"),step:3,helpText:n("answer_questions_help")}),e.jsxs("div",{className:"grid gap-8",children:[e.jsx("div",{className:"space-y-6",children:s.analysis.questions.map((p,u)=>e.jsxs(N,{className:"p-8 shadow-lg shadow-surface-200/50 transition-all focus-within:ring-4 focus-within:ring-primary-100 focus-within:border-primary-300",children:[e.jsxs("label",{className:"block text-lg font-bold text-surface-800 mb-4 flex gap-3 items-start",children:[e.jsx("span",{className:"bg-surface-100 text-surface-500 w-8 h-8 flex items-center justify-center rounded-lg text-sm shrink-0 font-mono mt-0.5",children:u+1}),e.jsx("span",{className:"flex-1",children:p}),e.jsx(re,{content:n("ai_hint")||"Analyze the data carefully before answering.",children:e.jsx(Ue,{size:18,className:"text-surface-400 hover:text-primary-500 transition-colors cursor-help mt-1"})})]}),e.jsx(de,{className:"bg-surface-50 border-surface-200 focus:bg-white min-h-[140px] text-base leading-relaxed",placeholder:n("type_answer_help"),value:r.responses.analysis[u]||"",onChange:h=>i("analysis",{[u]:h.target.value}),onBlur:()=>m(u,p)})]},u))}),e.jsxs("div",{className:"min-h-[120px]",children:[c&&e.jsxs("div",{className:"flex items-center gap-4 text-primary-600 animate-pulse bg-primary-50/80 backdrop-blur-sm p-5 rounded-2xl w-fit border border-primary-100",children:[e.jsxs("div",{className:"relative",children:[e.jsx(U,{size:24}),e.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-primary-500 rounded-full animate-ping"})]}),e.jsx("span",{className:"font-bold tracking-wide text-sm uppercase",children:n("analyzing")})]}),l&&e.jsxs(N,{className:"bg-gradient-to-br from-primary-50 to-primary-100 border-primary-100 shadow-sm relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/40 rounded-full -mr-10 -mt-10 blur-2xl"}),e.jsxs("div",{className:"flex gap-5 relative z-10",children:[e.jsx("div",{className:"bg-white p-3 rounded-2xl shadow-sm h-fit text-primary-600 shrink-0",children:e.jsx(U,{size:28})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-primary-900 mb-2 text-lg",children:n("ai_feedback")}),e.jsx("p",{className:"text-primary-800/90 leading-relaxed text-base",children:l})]})]})]})]})]}),e.jsx(J,{onNext:t,onPrev:a,disabled:Object.keys(r.responses.analysis).length===0})]})},Ma=({onNext:t,onPrev:a})=>{const{activeScenario:s,activeSession:r,updateSessionResponse:i,t:n}=A(),[l,d]=o.useState((r==null?void 0:r.responses.solutionJustification)||""),[c,x]=o.useState((r==null?void 0:r.responses.solutionId)||null);if(!s)return null;const m=u=>{x(u),i("solutionId",u)},p=u=>{d(u.target.value),i("solutionJustification",u.target.value)};return e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsx(R,{title:n("proposed_solution"),step:4}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12",children:s.solutions.options.map((u,h)=>e.jsxs("div",{onClick:()=>m(u.id),className:`cursor-pointer group relative p-8 rounded-3xl border-2 transition-all duration-300 h-full flex flex-col justify-between ${c===u.id?"border-primary-600 bg-primary-50/30 shadow-2xl shadow-primary-200/50 scale-[1.02]":"border-surface-100 bg-white hover:border-primary-200 hover:shadow-xl hover:shadow-surface-200/50 hover:-translate-y-1"}`,children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("span",{className:`inline-flex items-center justify-center w-10 h-10 rounded-xl text-lg font-bold transition-colors ${c===u.id?"bg-primary-600 text-white shadow-lg shadow-primary-300":"bg-surface-100 text-surface-500 group-hover:bg-primary-100 group-hover:text-primary-600"}`,children:String.fromCharCode(65+h)}),c===u.id&&e.jsx("div",{className:"text-primary-600 animate-scale-in",children:e.jsx(D,{size:28,fill:"currentColor",className:"text-white"})})]}),e.jsxs("h4",{className:`font-bold text-xl mb-4 transition-colors ${c===u.id?"text-primary-900":"text-surface-900"}`,children:[n("option")," ",h+1]}),e.jsx("p",{className:"text-surface-600 leading-relaxed",children:u.text})]}),e.jsx("div",{className:`mt-6 pt-6 border-t border-dashed transition-colors ${c===u.id?"border-primary-200":"border-surface-100"}`,children:e.jsx("span",{className:`text-xs font-bold uppercase tracking-wider ${c===u.id?"text-primary-600":"text-surface-400"}`,children:c===u.id?n("selected"):n("click_to_select")})})]},u.id))}),c&&e.jsx("div",{className:"animate-fade-in-up",children:e.jsxs(N,{className:"p-8 shadow-xl shadow-surface-200/50",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("div",{className:"bg-primary-100 p-3 rounded-2xl text-primary-600",children:e.jsx(ue,{size:24})}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xl font-bold text-surface-900 block",children:n("justify_choice")}),e.jsx("p",{className:"text-surface-500 text-sm",children:n("justify_choice_help")})]})]}),e.jsx(de,{className:"bg-surface-50 border-surface-200 focus:bg-white min-h-[150px] text-base",placeholder:"...",value:l,onChange:p})]})}),e.jsx(J,{onNext:t,onPrev:a,disabled:!c||!l,nextLabel:n("run_simulation")})]})},Ka=({onNext:t})=>{const{activeScenario:a,activeSession:s,updateSessionResponse:r,t:i,language:n}=A(),[l,d]=o.useState(!0),[c,x]=o.useState((s==null?void 0:s.responses.solutionFeedback)||null),m=n==="he";if(!a||!s)return null;const p=a.solutions.options.find(h=>h.id===s.responses.solutionId),u=p?a.simulation.results[p.resultId]:null;return o.useEffect(()=>{(async()=>{if(!s.responses.solutionFeedback&&p){await new Promise(v=>setTimeout(v,2e3));const b=await Lt(p.text,s.responses.solutionJustification||"",a.problem.context);x(b),r("solutionFeedback",b)}d(!1)})()},[]),l?e.jsxs("div",{className:"flex flex-col items-center justify-center h-[600px] space-y-8 animate-fade-in",children:[e.jsxs("div",{className:"relative w-32 h-32",children:[e.jsx("div",{className:"absolute inset-0 border-4 border-surface-100 rounded-full"}),e.jsx("div",{className:"absolute inset-0 border-4 border-primary-600 rounded-full border-t-transparent animate-spin"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx(B,{className:"text-primary-600 animate-pulse",size:32})})]}),e.jsxs("div",{className:"text-center space-y-3",children:[e.jsx("h3",{className:"text-3xl font-extrabold text-surface-900 tracking-tight",children:i("run_simulation")}),e.jsx("p",{className:"text-surface-500 text-lg",children:i("analyzing")})]})]}):e.jsxs("div",{className:"max-w-5xl mx-auto space-y-12",children:[e.jsx(R,{title:i("simulation_results"),step:5}),u&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-stretch",children:[e.jsxs(N,{className:`!overflow-hidden !rounded-3xl border-2 transition-all duration-500 shadow-2xl flex flex-col justify-center p-10 relative ${u.outcomeType==="success"?"!bg-purple-50/50 !border-purple-200":u.outcomeType==="neutral"?"!bg-amber-50/50 !border-amber-200":"!bg-red-50/50 !border-red-200"}`,children:[e.jsx("div",{className:`absolute top-0 right-0 w-64 h-64 rounded-full -mr-16 -mt-16 blur-3xl opacity-50 ${u.outcomeType==="success"?"bg-purple-200":u.outcomeType==="neutral"?"bg-amber-200":"bg-red-200"}`}),e.jsxs("div",{className:`relative z-10 text-center ${u.outcomeType==="success"?"text-purple-900":u.outcomeType==="neutral"?"text-amber-900":"text-red-900"}`,children:[e.jsx("div",{className:`mx-auto w-24 h-24 rounded-full flex items-center justify-center mb-8 shadow-sm ${u.outcomeType==="success"?"bg-purple-100 text-purple-600":u.outcomeType==="neutral"?"bg-amber-100 text-amber-600":"bg-red-100 text-red-600"}`,children:u.outcomeType==="success"?e.jsx(D,{size:48}):e.jsx(ae,{size:48})}),e.jsx("h2",{className:"text-4xl font-extrabold mb-6 tracking-tight",children:u.summary}),e.jsx("p",{className:"text-xl opacity-90 leading-relaxed",children:u.detail})]})]}),e.jsxs("div",{className:"relative h-full min-h-[400px] rounded-3xl overflow-hidden shadow-2xl border-8 border-white ring-1 ring-surface-900/5",children:[e.jsx("img",{src:u.outcomeImageUrl||a.problem.imageUrl||"./placeholder.svg",className:"absolute inset-0 w-full h-full object-cover",alt:"Simulation Outcome"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent"}),e.jsx("div",{className:"absolute bottom-6 left-6 right-6 text-white",children:e.jsxs("div",{className:"inline-flex items-center gap-2 bg-black/50 backdrop-blur-md px-4 py-2 rounded-full text-sm font-bold border border-white/10",children:[e.jsx(B,{size:16}),i("visual_outcome")]})})]})]}),c&&e.jsxs("div",{className:"relative group animate-fade-in-up",children:[e.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-primary-600 to-primary-600 rounded-3xl opacity-20 group-hover:opacity-30 transition duration-500 blur"}),e.jsxs(N,{className:"relative p-8 shadow-xl flex flex-col md:flex-row gap-8 items-start !rounded-3xl",children:[e.jsx("div",{className:"bg-primary-50 p-4 rounded-2xl text-primary-600 shrink-0 border border-primary-100",children:e.jsx(U,{size:32})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-xl font-bold text-surface-900",children:i("ai_feedback")}),e.jsx("p",{className:"text-surface-600 leading-relaxed text-lg",children:c})]})]})]}),e.jsx("div",{className:"flex justify-end pt-8",children:e.jsx(C,{variant:"primary",onClick:t,className:"px-10 py-4 text-lg !rounded-2xl shadow-lg shadow-surface-200 hover:shadow-xl hover:shadow-primary-200 hover:-translate-y-1",icon:m?T:$,iconPosition:"right",children:i("reflection")})})]})},Ba=()=>{const{activeScenario:t,activeSession:a,updateSessionResponse:s,resetSimulation:r,scenarios:i,t:n,language:l}=A(),d=Oe(),[c,x]=o.useState(!1),m=l==="he";if(!t||!a)return null;const p=i.findIndex(y=>y.id===t.id),u=i[p+1],h=()=>{r(),d({to:"/dashboard"})},b=()=>{u&&d({to:"/simulation/$scenarioId",params:{scenarioId:u.id},search:{step:0}})},v=Math.round((Date.now()-a.startedAt)/6e4),g=t.solutions.options.find(y=>y.id===a.responses.solutionId),f=g?t.simulation.results[g.resultId]:null,j=()=>{const y=`
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                    STEM SIMULATION REPORT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ðŸ“‹ SCENARIO DETAILS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Title: ${t.title}
Category: ${t.category}
Duration: ${t.duration}
Date: ${new Date(a.startedAt).toLocaleDateString()}
Time Spent: ${v} minutes
Session ID: ${a.id.slice(0,8)}

ðŸ“ PROBLEM STATEMENT
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
${t.problem.text}

Context: ${t.problem.context}

ðŸ“Š YOUR ANALYSIS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
${t.analysis.questions.map((E,k)=>`
Q${k+1}: ${E}
A${k+1}: ${a.responses.analysis[k]||"Not answered"}
`).join(`
`)}

AI Feedback: ${a.responses.analysisFeedback||"N/A"}

ðŸ’¡ YOUR SOLUTION
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Selected: ${(g==null?void 0:g.text)||"N/A"}
Justification: ${a.responses.solutionJustification||"N/A"}

Result: ${(f==null?void 0:f.summary)||"N/A"}
${(f==null?void 0:f.detail)||""}

AI Feedback: ${a.responses.solutionFeedback||"N/A"}

ðŸ”„ REFLECTION
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
${t.reflection.questions.map((E,k)=>`
Q${k+1}: ${E}
A${k+1}: ${a.responses.reflection[k]||"Not answered"}
`).join(`
`)}

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                    Powered by STEM Simulator
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        `,w=new Blob([y],{type:"text/plain"}),I=URL.createObjectURL(w),O=document.createElement("a");O.href=I,O.download=`simulation-report-${t.title.replace(/\s+/g,"-")}-${a.id.slice(0,8)}.txt`,O.click(),x(!0)};return e.jsxs("div",{className:"max-w-5xl mx-auto",children:[e.jsx(R,{title:n("reflection"),step:6}),e.jsx("div",{className:"space-y-8 mb-16",children:t.reflection.questions.map((y,w)=>e.jsxs(N,{className:"p-8 shadow-lg shadow-surface-200/50 transition-all focus-within:ring-4 focus-within:ring-primary-100 focus-within:border-primary-300",children:[e.jsx("label",{className:"block text-lg font-bold text-surface-800 mb-4",children:y}),e.jsx(de,{className:"bg-surface-50 border-surface-200 focus:bg-white min-h-[120px] text-base",placeholder:n("type_answer_help"),value:a.responses.reflection[w]||"",onChange:I=>s("reflection",{[w]:I.target.value})})]},w))}),e.jsxs(N,{className:"p-10 shadow-xl shadow-surface-200/50 mb-12 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-primary-50 rounded-full -mr-20 -mt-20 blur-3xl"}),e.jsxs("h3",{className:"text-2xl font-bold text-surface-900 mb-8 flex items-center gap-3 relative z-10",children:[e.jsx("div",{className:"bg-primary-100 p-2 rounded-lg text-primary-600",children:e.jsx(zt,{size:24})}),n("session_summary")]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 relative z-10",children:[e.jsxs("div",{className:"text-center p-6 bg-surface-50 rounded-2xl border border-surface-100 hover:shadow-md transition-all",children:[e.jsx(Ee,{size:28,className:"mx-auto text-primary-500 mb-3"}),e.jsx("p",{className:"text-3xl font-extrabold text-surface-900 mb-1",children:v}),e.jsx("p",{className:"text-sm font-medium text-surface-500 uppercase tracking-wide",children:n("mins")})]}),e.jsxs("div",{className:"text-center p-6 bg-surface-50 rounded-2xl border border-surface-100 hover:shadow-md transition-all",children:[e.jsx(ue,{size:28,className:"mx-auto text-primary-500 mb-3"}),e.jsx("p",{className:"text-3xl font-extrabold text-surface-900 mb-1",children:Object.keys(a.responses.analysis).length}),e.jsx("p",{className:"text-sm font-medium text-surface-500 uppercase tracking-wide",children:n("questions_answered")})]}),e.jsxs("div",{className:"text-center p-6 bg-surface-50 rounded-2xl border border-surface-100 hover:shadow-md transition-all",children:[e.jsx(V,{size:28,className:"mx-auto text-amber-500 mb-3"}),e.jsxs("p",{className:"text-xl font-bold text-surface-900 truncate mb-1",children:[g==null?void 0:g.text.slice(0,15),"..."]}),e.jsx("p",{className:"text-sm font-medium text-surface-500 uppercase tracking-wide",children:n("solution_selected")})]}),e.jsxs("div",{className:"text-center p-6 bg-surface-50 rounded-2xl border border-surface-100 hover:shadow-md transition-all",children:[(f==null?void 0:f.outcomeType)==="success"?e.jsx(D,{size:28,className:"mx-auto text-secondary-500 mb-3"}):(f==null?void 0:f.outcomeType)==="neutral"?e.jsx(ae,{size:28,className:"mx-auto text-amber-500 mb-3"}):e.jsx(ae,{size:28,className:"mx-auto text-accent-500 mb-3"}),e.jsx("p",{className:"text-xl font-bold text-surface-900 mb-1",children:f==null?void 0:f.summary}),e.jsx("p",{className:"text-sm font-medium text-surface-500 uppercase tracking-wide",children:n("outcome")})]})]})]}),e.jsxs(N,{className:"!bg-surface-900 text-white p-12 !rounded-[2.5rem] text-center space-y-8 shadow-2xl shadow-surface-900/20 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-white/5 rounded-full -mr-24 -mt-24 blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-primary-500/20 rounded-full -ml-24 -mb-24 blur-3xl"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-gradient-to-br from-secondary-400 to-secondary-500 rounded-3xl rotate-3 flex items-center justify-center shadow-lg shadow-secondary-900/20",children:e.jsx(Tt,{size:48,className:"text-white -rotate-3"})}),e.jsx("h2",{className:"text-4xl font-extrabold mb-4 tracking-tight",children:(f==null?void 0:f.outcomeType)==="success"?n("congratulations"):n("good_job")}),e.jsx("p",{className:"text-surface-400 max-w-lg mx-auto text-xl leading-relaxed",children:n("completed_module")}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-5 pt-10",children:[e.jsx(C,{onClick:j,variant:c?"secondary":"outline",className:`px-8 py-4 text-lg !rounded-2xl ${c?"":"!bg-white !text-surface-900 !border-none shadow-lg"}`,icon:c?D:Ct,children:n(c?"report_saved":"download_report")}),u&&e.jsx(C,{onClick:b,variant:"primary",className:"px-8 py-4 text-lg !rounded-2xl shadow-lg",icon:m?T:$,iconPosition:"right",children:n("next_scenario")}),e.jsx(C,{onClick:h,variant:"ghost",className:"px-8 py-4 text-lg !rounded-2xl border !border-surface-700 !text-surface-300 hover:!bg-surface-800 hover:!text-white",icon:Ut,children:n("return_dashboard")})]})]})]})]})},Fa=({currentStep:t,onStepChange:a})=>{const{t:s,language:r}=A(),i=r==="he",n=()=>{a(Math.min(t+1,6))},l=()=>{a(Math.max(t-1,0))},d=t/6*100;return e.jsxs("div",{className:"pb-20 relative",children:[e.jsx("div",{className:"sticky top-16 z-40 bg-surface-50/95 backdrop-blur-sm py-6 mb-8 border-b border-surface-200/50 -mx-4 sm:-mx-6 lg:-mx-8 px-4 sm:px-6 lg:px-8 transition-all",children:e.jsxs("div",{className:"max-w-5xl mx-auto",children:[e.jsxs("div",{className:"flex justify-between text-xs font-bold text-surface-400 uppercase tracking-widest mb-2",children:[e.jsx("span",{className:t>=0?"text-primary-600":"",children:s("start")}),e.jsx("span",{className:t>=2?"text-primary-600":"",children:s("analyze")}),e.jsx("span",{className:t>=4?"text-primary-600":"",children:s("decide")}),e.jsx("span",{className:t>=6?"text-primary-600":"",children:s("finish")})]}),e.jsx("div",{className:"h-2.5 w-full bg-surface-200 rounded-full overflow-hidden",dir:"ltr",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-primary-500 to-primary-600 shadow-lg shadow-primary-500/50 transition-all duration-700 ease-out relative",style:{width:`${Math.max(5,d)}%`,marginLeft:i?"auto":0,marginRight:i?0:"auto"},children:e.jsx("div",{className:"absolute right-0 top-0 h-full w-full bg-white/20 animate-pulse-soft"})})})]})}),e.jsxs("div",{className:"min-h-[600px] max-w-7xl mx-auto",children:[t===0&&e.jsx(Da,{onNext:n}),t===1&&e.jsx(Ta,{onNext:n,onPrev:l}),t===2&&e.jsx($a,{onNext:n,onPrev:l}),t===3&&e.jsx(Ra,{onNext:n,onPrev:l}),t===4&&e.jsx(Ma,{onNext:n,onPrev:l}),t===5&&e.jsx(Ka,{onNext:n}),t===6&&e.jsx(Ba,{})]})]})},Ga=()=>{const{scenarioId:t}=be.useParams(),{step:a}=be.useSearch(),{scenarios:s,startSimulation:r,activeScenario:i}=A(),n=Oe({from:"/simulation/$scenarioId"}),l=d=>{n({search:{step:d}})};return o.useEffect(()=>{const d=s.find(c=>c.id===t);d&&(!i||i.id!==t)?r(t):d||n({to:"/dashboard"})},[t,s,r,i,n]),i?e.jsx(ve,{children:e.jsx(Fa,{currentStep:a,onStepChange:l})}):e.jsx(ve,{children:e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary-500 border-t-transparent"})})})};export{Ga as component};
