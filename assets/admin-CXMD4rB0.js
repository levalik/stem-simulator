import{j as e,u as P,r as y}from"./index-C-1Mlfbx.js";import{S as O,X as ce,a as oe,C as de,b as xe,L as me}from"./Layout-4Odb9344.js";import{c as b}from"./Logo-CmuEw_j8.js";import{B as k,C as te,T as A,I,F as re,g as he,a as ue,D as pe,A as fe,R as Q,b as ge,c as je,X as be,Y as ve,d as Z,L as Ne,e as ee,P as ye,f as we,h as se}from"./PieChart-q2wlfvcM.js";import{a as q,T as ae}from"./trophy-Cx_FULbq.js";/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],D=b("chart-column",_e);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],le=b("chart-pie",ke);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Se=b("circle-x",Ce);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Ie=b("image",ze);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Te=b("layout-dashboard",Me);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],$e=b("pen",Ae);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],V=b("plus",Le);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Re=b("save",Pe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],De=b("shield",Ue);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ge=b("trash-2",Ee);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],E=b("users",Oe);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],$=b("wand-sparkles",qe),Ve=({scenario:a,onEdit:i,onDelete:u,t:s})=>e.jsxs("div",{className:"group bg-white p-4 rounded-2xl border border-surface-200 shadow-sm hover:shadow-lg hover:border-primary-200 transition-all duration-300 flex flex-col md:flex-row gap-6 items-center",children:[e.jsx("div",{className:"w-full md:w-32 h-32 bg-surface-100 rounded-xl overflow-hidden shrink-0 relative",children:e.jsx("img",{src:a.opening.imageUrl||"./placeholder.svg",alt:a.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"})}),e.jsxs("div",{className:"flex-1 text-center md:text-start rtl:md:text-right w-full",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-2 items-center md:items-start rtl:md:items-start mb-2",children:[e.jsx("h3",{className:"text-xl font-bold text-surface-900 group-hover:text-primary-600 transition-colors",children:a.title}),e.jsx("span",{className:"px-2.5 py-0.5 bg-primary-50 text-primary-700 text-xs font-bold rounded-full border border-primary-100 uppercase tracking-wide",children:a.category})]}),e.jsx("p",{className:"text-surface-500 text-sm line-clamp-2 mb-3",children:a.opening.description}),e.jsxs("div",{className:"flex items-center justify-center md:justify-start rtl:md:justify-start gap-4 text-xs text-surface-400 font-medium",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(E,{size:14})," 120 ",s("users")]}),e.jsx("span",{className:"flex items-center gap-1",children:"•"}),e.jsx("span",{children:a.duration})]})]}),e.jsxs("div",{className:"flex gap-2 w-full md:w-auto justify-center",children:[e.jsx("button",{onClick:()=>i(a),className:"p-2.5 text-surface-500 hover:text-primary-600 hover:bg-primary-50 rounded-xl transition-colors border border-transparent hover:border-primary-100",title:s("tooltip_edit_scenario"),children:e.jsx($e,{size:20})}),e.jsx("button",{onClick:()=>u(a.id),className:"p-2.5 text-surface-500 hover:text-accent-600 hover:bg-accent-50 rounded-xl transition-colors border border-transparent hover:border-accent-100",title:s("tooltip_delete_scenario"),children:e.jsx(Ge,{size:20})})]})]}),Fe=({onViewCreate:a,onEdit:i,onDelete:u})=>{const{scenarios:s,t:r}=P(),[x,p]=y.useState(""),C=s.filter(m=>m.title.toLowerCase().includes(x.toLowerCase())||m.category.toLowerCase().includes(x.toLowerCase()));return e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-extrabold text-surface-900 tracking-tight",children:r("scenario_library")}),e.jsx("p",{className:"text-surface-500 text-sm mt-1",children:r("manage_scenarios_desc")||"Manage and organize your training modules"})]}),e.jsxs("button",{onClick:a,className:"w-full md:w-auto bg-surface-900 text-white px-6 py-3 rounded-xl text-sm font-bold hover:bg-surface-800 transition-colors shadow-lg shadow-surface-200 flex items-center justify-center gap-2",children:[e.jsx(V,{size:18})," ",r("create_new")]})]}),e.jsx("div",{className:"bg-white p-4 rounded-2xl border border-surface-200 shadow-sm flex gap-4",children:e.jsxs("div",{className:"relative flex-1",children:[e.jsx(O,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-surface-400 rtl:left-auto rtl:right-3",size:20}),e.jsx("input",{type:"text",placeholder:r("search_scenarios")||"Search scenarios...",className:"w-full pl-10 pr-4 rtl:pr-10 rtl:pl-4 py-2.5 bg-surface-50 border border-surface-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all",value:x,onChange:m=>p(m.target.value)})]})}),e.jsx("div",{className:"grid gap-4",children:C.length>0?C.map(m=>e.jsx(Ve,{scenario:m,onEdit:i,onDelete:u,t:r},m.id)):e.jsxs("div",{className:"text-center py-20 bg-white rounded-3xl border border-dashed border-surface-300",children:[e.jsx("div",{className:"w-16 h-16 bg-surface-50 rounded-full flex items-center justify-center mx-auto mb-4 text-surface-400",children:e.jsx(O,{size:32})}),e.jsx("h3",{className:"text-lg font-bold text-surface-900",children:r("no_scenarios_found")}),e.jsx("p",{className:"text-surface-500",children:r("try_adjusting_search")})]})})]})},Be=[{value:"פיזיקה / מדעי הסביבה",label:{en:"Physics / Environmental Science",he:"פיזיקה / מדעי הסביבה"}},{value:"אקולוגיה / תכנון עירוני",label:{en:"Ecology / Urban Planning",he:"אקולוגיה / תכנון עירוני"}},{value:"הנדסה / פיזיקה",label:{en:"Engineering / Physics",he:"הנדסה / פיזיקה"}},{value:"מתמטיקה / חקר ביצועים",label:{en:"Mathematics / Operations Research",he:"מתמטיקה / חקר ביצועים"}},{value:"ביולוגיה / רפואה",label:{en:"Biology / Medicine",he:"ביולוגיה / רפואה"}},{value:"פיזיקה / קינמטיקה",label:{en:"Physics / Kinematics",he:"פיזיקה / קינמטיקה"}},{value:"כימיה / איכות סביבה",label:{en:"Chemistry / Environmental Quality",he:"כימיה / איכות סביבה"}},{value:"מדעי המחשב / אלגוריתמים",label:{en:"Computer Science / Algorithms",he:"מדעי המחשב / אלגוריתמים"}},{value:"גיאוגרפיה / אקלים",label:{en:"Geography / Climate",he:"גיאוגרפיה / אקלים"}}],He=[{value:"10 דקות",label:{en:"10 minutes",he:"10 דקות"}},{value:"15 דקות",label:{en:"15 minutes",he:"15 דקות"}},{value:"20 דקות",label:{en:"20 minutes",he:"20 דקות"}},{value:"25 דקות",label:{en:"25 minutes",he:"25 דקות"}},{value:"30 דקות",label:{en:"30 minutes",he:"30 דקות"}},{value:"45 דקות",label:{en:"45 minutes",he:"45 דקות"}},{value:"60 דקות",label:{en:"60 minutes",he:"60 דקות"}}],Ke=[{value:"bar",label:{en:"Bar Chart",he:"תרשים עמודות"}},{value:"pie",label:{en:"Pie Chart",he:"תרשים עוגה"}},{value:"line",label:{en:"Line Chart",he:"תרשים קווי"}}],Ye=({onSave:a,onCancel:i,initialData:u})=>{const{t:s,language:r}=P(),[x,p]=y.useState(1),[C,m]=y.useState(!1),[w,M]=y.useState(null),[S,L]=y.useState(""),[l,c]=y.useState(u||{id:crypto.randomUUID(),title:"",category:"",duration:"",opening:{description:"",imageUrl:""},problem:{text:"",context:"",imageUrl:""},data:{description:"",chartType:"bar",chartData:[]},analysis:{questions:[],keyTerms:[]},solutions:{options:[]},simulation:{results:{}},reflection:{questions:[]}}),ie=async()=>{if(S.trim()){m(!0);try{const n=await ue(S);n&&c(v=>({...v,...n,id:v.id}))}catch(n){console.error("Failed to generate",n)}finally{m(!1)}}},R=async n=>{const v=S||l.title||"STEM Scenario";M(n);try{const N=await he(n,v);N&&c(z=>({...z,[n]:{...z[n],...N}}))}catch(N){console.error(`Failed to generate ${n}`,N)}finally{M(null)}},_=(n,v,N)=>{c(z=>({...z,[n]:{...z[n],[v]:N}}))},G=(n,v)=>{c(N=>({...N,[n]:v}))},ne=()=>{var n,v,N,z,F,B,H,K,Y,X,W,J;switch(x){case 1:return e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[!u&&e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 p-6 rounded-2xl border border-purple-100 mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3 text-purple-800 font-bold",children:[e.jsx($,{size:20}),e.jsx("h3",{children:s("ai_generator")||"AI Scenario Generator"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(I,{placeholder:s("enter_topic")||"Enter a topic (e.g., 'Water Conservation in Urban Areas')",value:S,onChange:t=>L(t.target.value),className:"bg-white"}),e.jsx(k,{onClick:ie,isLoading:C,variant:"secondary",leftIcon:e.jsx($,{size:16}),children:s("generate")||"Generate"})]}),e.jsx("p",{className:"text-xs text-purple-600 mt-2",children:s("ai_hint")||"Powered by Gemini AI. Enter a topic and let AI create the initial structure for you."})]}),e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-100 flex items-center justify-center text-primary-600",children:e.jsx(re,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-surface-900",children:s("step_1_opening")}),e.jsx("p",{className:"text-sm text-surface-500",children:"Basic scenario information"})]})]}),e.jsxs("div",{className:"grid gap-5",children:[e.jsx("div",{children:e.jsx(I,{label:s("scenario_title"),value:l.title,onChange:t=>G("title",t.target.value),placeholder:r==="he"?"הכנס כותרת לתרחיש...":s("enter_title")})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-surface-700 mb-2",children:[s("category")," ",e.jsx("span",{className:"text-accent-500",children:"*"})]}),e.jsxs("select",{className:"w-full p-2.5 border border-surface-200 rounded-lg bg-surface-50 focus:bg-white focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all appearance-none cursor-pointer",value:l.category,onChange:t=>G("category",t.target.value),children:[e.jsx("option",{value:"",children:r==="he"?"בחר קטגוריה...":s("select_category")}),Be.map(t=>e.jsx("option",{value:t.value,children:r==="he"?t.label.he:t.label.en},t.value))]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-surface-700 mb-2",children:[s("duration")," ",e.jsx("span",{className:"text-accent-500",children:"*"})]}),e.jsxs("select",{className:"w-full p-2.5 border border-surface-200 rounded-lg bg-surface-50 focus:bg-white focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all appearance-none cursor-pointer",value:l.duration,onChange:t=>G("duration",t.target.value),children:[e.jsx("option",{value:"",children:r==="he"?"בחר משך...":s("select_duration")}),He.map(t=>e.jsx("option",{value:t.value,children:r==="he"?t.label.he:t.label.en},t.value))]})]})]}),e.jsx("div",{children:e.jsx(A,{label:s("scenario_description"),value:(n=l.opening)==null?void 0:n.description,onChange:t=>_("opening","description",t.target.value),placeholder:r==="he"?"תאר את התרחיש בקצרה...":s("brief_description")})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-surface-700 mb-2",children:s("image_url")}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(I,{className:"flex-1",value:(v=l.opening)==null?void 0:v.imageUrl,onChange:t=>_("opening","imageUrl",t.target.value),placeholder:"https://images.unsplash.com/..."}),e.jsx("button",{type:"button",className:"px-4 py-2 bg-surface-100 text-surface-600 rounded-xl hover:bg-surface-200 transition-colors flex items-center gap-2",children:e.jsx(Ie,{size:18})})]}),e.jsx("p",{className:"text-xs text-surface-400 mt-1.5",children:r==="he"?"השתמש בתמונה מ-Unsplash או כתובת URL אחרת":s("use_image_url")})]})]})]});case 2:return e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-xl font-bold text-surface-900",children:s("step_2_problem")}),e.jsx(k,{size:"sm",variant:"ghost",onClick:()=>R("problem"),isLoading:w==="problem",leftIcon:e.jsx($,{size:16}),className:"text-purple-600 hover:bg-purple-50",children:s("generate_with_ai")||"Generate with AI"})]}),e.jsxs("div",{className:"grid gap-4",children:[e.jsx(A,{label:s("problem_statement"),value:(N=l.problem)==null?void 0:N.text,onChange:t=>_("problem","text",t.target.value),rows:4}),e.jsx(A,{label:s("context"),value:(z=l.problem)==null?void 0:z.context,onChange:t=>_("problem","context",t.target.value),rows:3}),e.jsx(I,{label:s("image_url"),value:(F=l.problem)==null?void 0:F.imageUrl,onChange:t=>_("problem","imageUrl",t.target.value)})]})]});case 3:return e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-100 flex items-center justify-center text-blue-600",children:e.jsx(D,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-surface-900",children:s("data_analysis")}),e.jsx("p",{className:"text-sm text-surface-500",children:r==="he"?"הגדר את הנתונים שיוצגו לתלמידים":"Configure data to be shown to students"})]}),e.jsx(k,{size:"sm",variant:"ghost",onClick:()=>R("data"),isLoading:w==="data",leftIcon:e.jsx($,{size:16}),className:"text-purple-600 hover:bg-purple-50 ml-auto",children:s("generate_with_ai")||"Generate with AI"})]}),e.jsxs("div",{className:"grid gap-5",children:[e.jsx(A,{label:s("description"),value:(B=l.data)==null?void 0:B.description,onChange:t=>_("data","description",t.target.value),placeholder:r==="he"?"תאר את הנתונים שיוצגו בתרשים...":"Describe the data to be shown in the chart...",rows:3}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-surface-700 mb-2",children:[s("chart_type")," ",e.jsx("span",{className:"text-accent-500",children:"*"})]}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:Ke.map(t=>{var f;return e.jsxs("button",{type:"button",onClick:()=>_("data","chartType",t.value),className:`p-4 rounded-xl border-2 transition-all flex flex-col items-center gap-2 ${((f=l.data)==null?void 0:f.chartType)===t.value?"border-primary-500 bg-primary-50 text-primary-700":"border-surface-200 bg-white text-surface-600 hover:border-primary-200 hover:bg-primary-50/50"}`,children:[t.value==="bar"&&e.jsx(D,{size:24}),t.value==="pie"&&e.jsx(le,{size:24}),t.value==="line"&&e.jsx(q,{size:24}),e.jsx("span",{className:"text-sm font-medium",children:r==="he"?t.label.he:t.label.en})]},t.value)})})]}),e.jsxs("div",{className:"bg-accent-50 border border-accent-100 rounded-xl p-4 flex gap-3",children:[e.jsx(oe,{size:20,className:"text-accent-500 shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-accent-800 font-medium",children:r==="he"?"טיפ":"Tip"}),e.jsx("p",{className:"text-xs text-accent-700",children:r==="he"?"נקודות הנתונים יכולות להיערך בשלב מתקדם יותר או מיובאות מקובץ CSV.":"Data points can be edited in advanced mode or imported from CSV."})]})]})]})]});case 4:return e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-xl font-bold text-surface-900",children:s("critical_analysis")}),e.jsx(k,{size:"sm",variant:"ghost",onClick:()=>R("analysis"),isLoading:w==="analysis",leftIcon:e.jsx($,{size:16}),className:"text-purple-600 hover:bg-purple-50",children:s("generate_with_ai")||"Generate with AI"})]}),e.jsxs("div",{className:"grid gap-4",children:[e.jsx(A,{label:s("analysis_questions"),helperText:"Separate questions with a new line",value:(H=l.analysis)==null?void 0:H.questions.join(`
`),onChange:t=>_("analysis","questions",t.target.value.split(`
`)),rows:6}),e.jsx(I,{label:s("key_terms"),helperText:"Comma separated",value:(K=l.analysis)==null?void 0:K.keyTerms.join(", "),onChange:t=>_("analysis","keyTerms",t.target.value.split(",").map(f=>f.trim()))})]})]});case 5:return e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-xl font-bold text-surface-900",children:s("solution_options")}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(k,{size:"sm",variant:"ghost",onClick:()=>R("solutions"),isLoading:w==="solutions",leftIcon:e.jsx($,{size:16}),className:"text-purple-600 hover:bg-purple-50",children:s("generate_with_ai")||"Generate with AI"}),e.jsx(k,{onClick:()=>{const t=`opt_${Date.now()}`,f=`res_${Date.now()}`;c(o=>{var g,d;return{...o,solutions:{options:[...((g=o.solutions)==null?void 0:g.options)||[],{id:t,text:"",correct:!1,resultId:f}]},simulation:{results:{...((d=o.simulation)==null?void 0:d.results)||{},[f]:{summary:"",detail:"",outcomeType:"neutral"}}}}})},leftIcon:e.jsx(V,{size:16}),size:"sm",children:s("add_option")})]})]}),e.jsxs("div",{className:"grid gap-4",children:[(Y=l.solutions)==null?void 0:Y.options.map((t,f)=>e.jsxs("div",{className:"bg-surface-50 p-4 rounded-xl border border-surface-200 relative group",children:[e.jsx("button",{onClick:()=>{var d,h;const o=[...((d=l.solutions)==null?void 0:d.options)||[]];o.splice(f,1);const g={...((h=l.simulation)==null?void 0:h.results)||{}};delete g[t.resultId],c(j=>({...j,solutions:{options:o},simulation:{results:g}}))},className:"absolute top-2 right-2 rtl:right-auto rtl:left-2 text-surface-400 hover:text-red-500 transition-colors",children:e.jsx(ce,{size:16})}),e.jsxs("div",{className:"grid gap-3",children:[e.jsx(I,{label:`${s("option")} ${f+1}`,value:t.text,onChange:o=>{var d;const g=[...((d=l.solutions)==null?void 0:d.options)||[]];g[f].text=o.target.value,c(h=>({...h,solutions:{options:g}}))},placeholder:r==="he"?"תיאור הפתרון...":"Solution description..."}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.correct,onChange:o=>{var d;const g=[...((d=l.solutions)==null?void 0:d.options)||[]];g[f].correct=o.target.checked,c(h=>({...h,solutions:{options:g}}))},className:"w-4 h-4 rounded border-surface-300 text-primary-600 focus:ring-primary-500"}),e.jsx("span",{className:"text-sm font-medium text-surface-700",children:s("is_correct")})]}),e.jsxs("div",{className:"text-xs text-surface-400 font-mono bg-surface-100 px-2 py-1 rounded",children:["ID: ",t.resultId]})]})]})]},t.id)),(!((X=l.solutions)!=null&&X.options)||l.solutions.options.length===0)&&e.jsx("div",{className:"text-center py-8 text-surface-500 bg-surface-50 rounded-xl border border-dashed border-surface-300",children:r==="he"?"אין אפשרויות. הוסף אפשרות חדשה.":"No options. Add a new option."})]})]});case 6:return e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsx("h3",{className:"text-xl font-bold text-surface-900",children:s("simulation_results")}),e.jsx("p",{className:"text-sm text-surface-500 mb-4",children:r==="he"?"הגדר את התוצאה עבור כל אפשרות פתרון שהוגדרה בשלב הקודם.":"Define the outcome for each solution option defined in the previous step."}),e.jsx("div",{className:"grid gap-6",children:(W=l.solutions)==null?void 0:W.options.map((t,f)=>{var g;const o=((g=l.simulation)==null?void 0:g.results[t.resultId])||{summary:"",detail:"",outcomeType:"neutral"};return e.jsxs("div",{className:"bg-surface-50 p-5 rounded-xl border border-surface-200",children:[e.jsxs("div",{className:"mb-4 pb-3 border-b border-surface-200 flex justify-between items-center",children:[e.jsxs("h4",{className:"font-bold text-surface-800 flex items-center gap-2",children:[e.jsx("span",{className:"w-6 h-6 rounded-full bg-surface-200 flex items-center justify-center text-xs",children:f+1}),t.text||(r==="he"?"(ללא כותרת)":"(Untitled Option)")]}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-bold ${t.correct?"bg-emerald-100 text-emerald-700":"bg-surface-200 text-surface-600"}`,children:t.correct?s("correct"):s("incorrect")})]}),e.jsxs("div",{className:"grid gap-4",children:[e.jsx(I,{label:s("result_summary"),value:o.summary,onChange:d=>{var j;const h={...((j=l.simulation)==null?void 0:j.results)||{}};h[t.resultId]={...o,summary:d.target.value},c(T=>({...T,simulation:{results:h}}))},placeholder:r==="he"?"כותרת התוצאה...":"Outcome headline..."}),e.jsx(A,{label:s("result_detail"),value:o.detail,onChange:d=>{var j;const h={...((j=l.simulation)==null?void 0:j.results)||{}};h[t.resultId]={...o,detail:d.target.value},c(T=>({...T,simulation:{results:h}}))},rows:3,placeholder:r==="he"?"תיאור מפורט של מה קרה בעקבות הבחירה...":"Detailed description of what happened..."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-surface-700 mb-2",children:[s("outcome")," ",e.jsx("span",{className:"text-accent-500",children:"*"})]}),e.jsxs("select",{className:"w-full p-2.5 border border-surface-200 rounded-lg bg-white focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all",value:o.outcomeType,onChange:d=>{var j;const h={...((j=l.simulation)==null?void 0:j.results)||{}};h[t.resultId]={...o,outcomeType:d.target.value},c(T=>({...T,simulation:{results:h}}))},children:[e.jsx("option",{value:"success",children:r==="he"?"הצלחה":"Success"}),e.jsx("option",{value:"failure",children:r==="he"?"כישלון":"Failure"}),e.jsx("option",{value:"neutral",children:r==="he"?"ניטרלי":"Neutral"})]})]}),e.jsx(I,{label:s("image_url"),value:o.outcomeImageUrl||"",onChange:d=>{var j;const h={...((j=l.simulation)==null?void 0:j.results)||{}};h[t.resultId]={...o,outcomeImageUrl:d.target.value},c(T=>({...T,simulation:{results:h}}))},placeholder:"https://..."})]})]})]},t.id)})})]});case 7:return e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-xl font-bold text-surface-900",children:s("reflection")}),e.jsx(k,{size:"sm",variant:"ghost",onClick:()=>R("reflection"),isLoading:w==="reflection",leftIcon:e.jsx($,{size:16}),className:"text-purple-600 hover:bg-purple-50",children:s("generate_with_ai")||"Generate with AI"})]}),e.jsx("div",{className:"grid gap-4",children:e.jsx(A,{label:s("reflection_questions"),helperText:"Separate questions with a new line",value:(J=l.reflection)==null?void 0:J.questions.join(`
`),onChange:t=>_("reflection","questions",t.target.value.split(`
`)),rows:6})})]});default:return e.jsxs("div",{className:"text-center py-10",children:[e.jsx(te,{size:48,className:"mx-auto text-secondary-500 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-surface-900",children:s("ready_to_create")}),e.jsx("p",{className:"text-surface-500",children:s("review_scenario")})]})}};return e.jsxs("div",{className:"max-w-3xl mx-auto bg-white rounded-3xl border border-surface-200 shadow-xl overflow-hidden flex flex-col min-h-[600px]",children:[e.jsxs("div",{className:"p-8 border-b border-surface-100 flex justify-between items-center bg-surface-50/50",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-extrabold text-surface-900",children:s("create_new")}),e.jsxs("p",{className:"text-surface-500 text-sm",children:[s("step")," ",x," ",s("of")," 7"]})]}),e.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5,6,7,8].map(n=>e.jsx("div",{className:`w-2 h-2 rounded-full transition-all ${x>=n?"bg-primary-600":"bg-surface-200"}`},n))})]}),e.jsx("div",{className:"p-8 flex-1 overflow-y-auto",children:ne()}),e.jsxs("div",{className:"p-6 border-t border-surface-100 bg-surface-50 flex justify-between items-center",children:[e.jsx(k,{variant:"ghost",onClick:()=>x===1?i():p(n=>Math.max(1,n-1)),children:s("back")}),x<8?e.jsx(k,{onClick:()=>p(n=>Math.min(8,n+1)),children:s("continue")}):e.jsx(k,{onClick:()=>a(l),variant:"secondary",leftIcon:e.jsx(Re,{size:18}),children:s("save_library")})]})]})},Xe=()=>{const{t:a}=P(),[i,u]=y.useState([{id:1,name:"Alex Johnson",email:"alex@edu.com",role:"Teacher",status:"Active"},{id:2,name:"Sarah Connor",email:"sarah@admin.com",role:"Admin",status:"Active"},{id:3,name:"Mike Ross",email:"mike@law.com",role:"Teacher",status:"Inactive"},{id:4,name:"Jessica P.",email:"jess@edu.com",role:"Teacher",status:"Active"}]),s=()=>{const r={id:i.length+1,name:`New User ${i.length+1}`,email:`user${i.length+1}@edu.com`,role:"Teacher",status:"Active"};u([...i,r])};return e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h2",{className:"text-3xl font-extrabold text-surface-900 tracking-tight",children:a("user_management")}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(O,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-surface-400 rtl:left-auto rtl:right-3",size:16}),e.jsx("input",{type:"text",placeholder:a("search_users"),className:"pl-9 pr-4 rtl:pr-9 rtl:pl-4 py-2 bg-white border border-surface-200 rounded-lg text-sm focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 outline-none"})]}),e.jsxs("button",{onClick:s,className:"bg-surface-900 text-white px-4 py-2 rounded-lg text-sm font-bold hover:bg-surface-800 transition-colors",children:["+ ",a("add_user")]})]})]}),e.jsx("div",{className:"bg-white rounded-2xl border border-surface-200 shadow-sm overflow-hidden",children:e.jsxs("table",{className:"w-full text-left rtl:text-right text-sm text-surface-600",children:[e.jsx("thead",{className:"bg-surface-50 border-b border-surface-200 font-semibold text-surface-900",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4",children:a("name")}),e.jsx("th",{className:"px-6 py-4",children:a("role")}),e.jsx("th",{className:"px-6 py-4",children:a("status")}),e.jsx("th",{className:"px-6 py-4 text-right rtl:text-left",children:a("actions")})]})}),e.jsx("tbody",{className:"divide-y divide-surface-100",children:i.map(r=>e.jsxs("tr",{className:"hover:bg-surface-50/50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-primary-100 text-primary-600 flex items-center justify-center font-bold",children:r.name[0]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-surface-900",children:r.name}),e.jsx("p",{className:"text-xs text-surface-400",children:r.email})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-medium border ${r.role==="Admin"?"bg-primary-50 text-primary-700 border-primary-100":"bg-surface-50 text-surface-600 border-surface-100"}`,children:[r.role==="Admin"?e.jsx(De,{size:10}):e.jsx(E,{size:10}),r.role]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-medium ${r.status==="Active"?"bg-secondary-50 text-secondary-700":"bg-surface-100 text-surface-500"}`,children:[r.status==="Active"?e.jsx(te,{size:10}):e.jsx(Se,{size:10}),r.status]})}),e.jsx("td",{className:"px-6 py-4 text-right rtl:text-left",children:e.jsx("button",{className:"text-surface-400 hover:text-primary-600 font-medium text-xs px-2",children:a("edit")})})]},r.id))})]})})]})},We=()=>{var m,w,M,S,L;const{t:a,scenarios:i,language:u}=P(),s=u==="he",r=[{name:s?"א":"Mon",runs:12,completed:10},{name:s?"ב":"Tue",runs:19,completed:16},{name:s?"ג":"Wed",runs:15,completed:13},{name:s?"ד":"Thu",runs:22,completed:20},{name:s?"ה":"Fri",runs:28,completed:24},{name:s?"ו":"Sat",runs:8,completed:7},{name:s?"ש":"Sun",runs:5,completed:4}],x=[{name:a("completed"),value:85},{name:a("dropped"),value:15}],p=i.slice(0,5).map((l,c)=>({name:l.title.length>20?l.title.slice(0,20)+"...":l.title,sessions:Math.floor(Math.random()*100)+50,successRate:Math.floor(Math.random()*30)+70})),C=[{name:"Sarah Cohen",score:98,scenario:((m=i[0])==null?void 0:m.title)||"N/A"},{name:"David Levi",score:95,scenario:((w=i[1])==null?void 0:w.title)||"N/A"},{name:"Rachel Ben",score:94,scenario:((M=i[0])==null?void 0:M.title)||"N/A"},{name:"Moshe Gold",score:92,scenario:((S=i[2])==null?void 0:S.title)||"N/A"},{name:"Yael Katz",score:91,scenario:((L=i[1])==null?void 0:L.title)||"N/A"}];return e.jsxs("div",{className:"space-y-8 animate-fade-in",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-extrabold text-surface-900 tracking-tight",children:a("analytics")}),e.jsx("p",{className:"text-surface-500 text-sm mt-1",children:a("tooltip_analytics")})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{className:"px-4 py-2 bg-white border border-surface-200 rounded-xl text-sm font-medium focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500",children:[e.jsx("option",{children:a("this_week")}),e.jsx("option",{children:a("last_week")}),e.jsx("option",{children:a("this_month")}),e.jsx("option",{children:a("last_month")})]}),e.jsxs("button",{className:"px-4 py-2 bg-surface-900 text-white rounded-xl text-sm font-bold hover:bg-surface-800 transition-colors flex items-center gap-2",children:[e.jsx(pe,{size:16})," ",a("export")]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-surface-200 shadow-sm hover:shadow-md transition-all",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-primary-100 rounded-lg text-primary-600",children:e.jsx(fe,{size:20})}),e.jsx("span",{className:"text-sm font-medium text-surface-500",children:a("total_sessions")})]}),e.jsx("p",{className:"text-4xl font-extrabold text-surface-900",children:"1,248"}),e.jsxs("div",{className:"mt-2 text-secondary-600 text-sm font-medium flex items-center gap-1",children:[e.jsx(q,{size:14})," ",e.jsx("span",{children:"+12%"})," ",e.jsx("span",{className:"text-surface-400",children:a("vs_last_week")})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-surface-200 shadow-sm hover:shadow-md transition-all",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-secondary-100 rounded-lg text-secondary-600",children:e.jsx(ae,{size:20})}),e.jsx("span",{className:"text-sm font-medium text-surface-500",children:a("avg_score")})]}),e.jsx("p",{className:"text-4xl font-extrabold text-surface-900",children:"88%"}),e.jsxs("div",{className:"mt-2 text-secondary-600 text-sm font-medium flex items-center gap-1",children:[e.jsx(q,{size:14})," ",e.jsx("span",{children:"+4%"})," ",e.jsx("span",{className:"text-surface-400",children:a("vs_last_week")})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-surface-200 shadow-sm hover:shadow-md transition-all",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg text-blue-600",children:e.jsx(E,{size:20})}),e.jsx("span",{className:"text-sm font-medium text-surface-500",children:a("active_teachers")})]}),e.jsx("p",{className:"text-4xl font-extrabold text-surface-900",children:"342"}),e.jsxs("div",{className:"mt-2 text-surface-400 text-sm font-medium flex items-center gap-1",children:[e.jsx("span",{children:"+0%"})," ",e.jsx("span",{className:"text-surface-400",children:a("vs_last_week")})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-surface-200 shadow-sm hover:shadow-md transition-all",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-accent-100 rounded-lg text-accent-600",children:e.jsx(de,{size:20})}),e.jsx("span",{className:"text-sm font-medium text-surface-500",children:a("avg_time")})]}),e.jsxs("p",{className:"text-4xl font-extrabold text-surface-900",children:["18",e.jsx("span",{className:"text-lg font-medium text-surface-400 ms-1",children:a("mins")})]}),e.jsxs("div",{className:"mt-2 text-accent-500 text-sm font-medium flex items-center gap-1",children:[e.jsx("span",{children:"-2"})," ",e.jsx("span",{className:"text-surface-400",children:a("vs_last_week")})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-surface-200 shadow-sm h-[400px]",children:[e.jsxs("h3",{className:"font-bold text-surface-800 mb-6 flex items-center gap-2",children:[e.jsx(D,{size:20,className:"text-primary-500"}),a("weekly_activity")]}),e.jsx(Q,{width:"100%",height:"85%",children:e.jsxs(ge,{data:r,children:[e.jsx(je,{strokeDasharray:"3 3",vertical:!1,stroke:"#f4f4f5"}),e.jsx(be,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#a1a1aa"}}),e.jsx(ve,{axisLine:!1,tickLine:!1,tick:{fill:"#a1a1aa"}}),e.jsx(Z,{cursor:{fill:"#f4f4f5"},contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgba(0,0,0,0.1)"}}),e.jsx(Ne,{}),e.jsx(ee,{dataKey:"runs",name:a("total_sessions"),fill:"#8b5cf6",radius:[4,4,0,0],barSize:24}),e.jsx(ee,{dataKey:"completed",name:a("completed"),fill:"#10b981",radius:[4,4,0,0],barSize:24})]})})]}),e.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-surface-200 shadow-sm h-[400px]",children:[e.jsxs("h3",{className:"font-bold text-surface-800 mb-6 flex items-center gap-2",children:[e.jsx(le,{size:20,className:"text-primary-500"}),a("completion_rate")]}),e.jsx(Q,{width:"100%",height:"75%",children:e.jsxs(ye,{children:[e.jsxs(we,{data:x,innerRadius:70,outerRadius:100,paddingAngle:5,dataKey:"value",label:({name:l,percent:c})=>`${l} ${(c*100).toFixed(0)}%`,children:[e.jsx(se,{fill:"#10b981"}),e.jsx(se,{fill:"#f43f5e"})]}),e.jsx(Z,{})]})}),e.jsxs("div",{className:"flex justify-center gap-6 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-3 h-3 rounded-full bg-secondary-500"})," ",a("completed")," (85%)"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-3 h-3 rounded-full bg-accent-500"})," ",a("dropped")," (15%)"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-surface-200 shadow-sm",children:[e.jsxs("h3",{className:"font-bold text-surface-800 mb-6 flex items-center gap-2",children:[e.jsx(re,{size:20,className:"text-primary-500"}),a("scenarios")," Performance"]}),e.jsx("div",{className:"space-y-4",children:p.map((l,c)=>e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"w-6 h-6 rounded-full bg-surface-100 text-surface-500 flex items-center justify-center text-xs font-bold",children:c+1}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{className:"text-sm font-medium text-surface-700",children:l.name}),e.jsxs("span",{className:"text-xs text-surface-500",children:[l.sessions," ",a("sessions_count")]})]}),e.jsx("div",{className:"h-2 bg-surface-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-primary-500 to-primary-600 rounded-full transition-all duration-500",style:{width:`${l.successRate}%`}})})]}),e.jsxs("span",{className:"text-sm font-bold text-surface-900",children:[l.successRate,"%"]})]},c))})]}),e.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-surface-200 shadow-sm",children:[e.jsxs("h3",{className:"font-bold text-surface-800 mb-6 flex items-center gap-2",children:[e.jsx(ae,{size:20,className:"text-accent-500"}),"Top Performers"]}),e.jsx("div",{className:"space-y-3",children:C.map((l,c)=>e.jsxs("div",{className:"flex items-center gap-4 p-3 bg-surface-50 rounded-xl hover:bg-surface-100 transition-colors",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm ${c===0?"bg-accent-100 text-accent-600":c===1?"bg-surface-200 text-surface-600":c===2?"bg-accent-50 text-accent-700":"bg-surface-100 text-surface-500"}`,children:c+1}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-surface-900",children:l.name}),e.jsxs("p",{className:"text-xs text-surface-500",children:[l.scenario.slice(0,30),"..."]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"text-lg font-bold text-surface-900",children:l.score}),e.jsx("span",{className:"text-surface-400 text-sm",children:"%"})]})]},c))})]})]})]})},Je=()=>{const{t:a}=P(),[i,u]=y.useState(!0),[s,r]=y.useState(!1);return e.jsxs("div",{className:"max-w-2xl space-y-8 animate-fade-in",children:[e.jsx("h2",{className:"text-3xl font-extrabold text-surface-900 tracking-tight",children:a("system_settings")}),e.jsxs("div",{className:"bg-white rounded-2xl border border-surface-200 shadow-sm divide-y divide-surface-100",children:[e.jsxs("div",{className:"p-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-surface-900",children:a("email_notifications")}),e.jsx("p",{className:"text-sm text-surface-500",children:a("receive_reports")})]}),e.jsx("div",{className:`w-11 h-6 rounded-full relative cursor-pointer transition-colors ${i?"bg-primary-600":"bg-surface-200"}`,onClick:()=>u(!i),children:e.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full shadow-sm transition-all ${i?"right-1 rtl:right-auto rtl:left-1":"left-1 rtl:left-auto rtl:right-1"}`})})]}),e.jsxs("div",{className:"p-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-surface-900",children:a("ai_model_config")}),e.jsx("p",{className:"text-sm text-surface-500",children:a("current_model")})]}),e.jsx("button",{className:"text-sm font-bold text-primary-600 hover:underline",children:a("change")})]}),e.jsxs("div",{className:"p-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-surface-900",children:a("data_export")}),e.jsx("p",{className:"text-sm text-surface-500",children:a("download_logs")})]}),e.jsx("button",{className:"bg-white border border-surface-200 text-surface-700 px-3 py-1.5 rounded-lg text-sm font-bold hover:bg-surface-50",children:a("export")})]})]})]})},U=({icon:a,label:i,active:u,onClick:s})=>e.jsxs("button",{onClick:s,className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${u?"bg-surface-900 text-white shadow-lg shadow-surface-200":"text-surface-500 hover:bg-surface-50 hover:text-surface-900"}`,children:[e.jsx(a,{size:20}),e.jsx("span",{className:"font-bold text-sm",children:i})]}),Qe=()=>{const{scenarios:a,addScenario:i,updateScenario:u,deleteScenario:s,t:r}=P(),[x,p]=y.useState("list"),[C,m]=y.useState(null),w=l=>{C?u(l):i(l),m(null),p("list")},M=l=>{m(l),p("create")},S=l=>{confirm(r("tooltip_delete_scenario"))&&s(l)},L=()=>{switch(x){case"create":return e.jsx(Ye,{initialData:C,onSave:w,onCancel:()=>{m(null),p("list")}});case"analytics":return e.jsx(We,{});case"users":return e.jsx(Xe,{});case"settings":return e.jsx(Je,{});default:return e.jsx(Fe,{onViewCreate:()=>{m(null),p("create")},onEdit:M,onDelete:S})}};return e.jsxs("div",{className:"grid grid-cols-12 gap-8",children:[e.jsx("div",{className:"col-span-12 md:col-span-3",children:e.jsxs("div",{className:"bg-white rounded-2xl border border-surface-200 p-4 h-fit sticky top-24 shadow-sm",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(U,{icon:Te,label:r("dashboard"),active:x==="list",onClick:()=>p("list")}),e.jsx(U,{icon:D,label:r("analytics"),active:x==="analytics",onClick:()=>p("analytics")}),e.jsx(U,{icon:V,label:r("new_scenario"),active:x==="create",onClick:()=>p("create")}),e.jsx("div",{className:"h-px bg-surface-100 my-2"}),e.jsx(U,{icon:E,label:r("users"),active:x==="users",onClick:()=>p("users")}),e.jsx(U,{icon:xe,label:r("settings"),active:x==="settings",onClick:()=>p("settings")})]}),e.jsx("div",{className:"mt-8 pt-8 border-t border-surface-100 px-2 hidden md:block",children:e.jsxs("div",{className:"bg-gradient-to-br from-primary-600 to-primary-800 rounded-xl p-5 text-white shadow-lg shadow-primary-200",children:[e.jsx("p",{className:"text-xs font-medium text-primary-200 mb-1 uppercase tracking-wider",children:r("total_scenarios")}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("p",{className:"text-3xl font-bold",children:a.length}),e.jsx("span",{className:"text-xs text-primary-200",children:r("active_modules")})]})]})})]})}),e.jsx("div",{className:"col-span-12 md:col-span-9",children:L()})]})},rs=()=>e.jsx(me,{children:e.jsx(Qe,{})});export{rs as component};
